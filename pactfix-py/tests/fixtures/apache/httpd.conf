# Apache Error Fixture - 14 different error types

# APACHE001: ServerTokens not set to Prod
ServerTokens Prod

# APACHE002: ServerSignature should be Off
ServerSignature Off

# APACHE003: TraceEnable should be Off
TraceEnable Off

<VirtualHost *:80>
    ServerName example.com
    
    # APACHE010: DocumentRoot outside standard paths
    DocumentRoot /opt/custom/www
    
    <Directory /opt/custom/www>
        # APACHE004: Options +Indexes enables directory listing
        Options +FollowSymLinks
        
        # APACHE005: AllowOverride All is too permissive
        AllowOverride None
        
        # APACHE014: Directory without Require directive
    </Directory>
    
    # APACHE011: Timeout too high
    Timeout 60
    
    # APACHE012: KeepAlive Off
    KeepAlive On
</VirtualHost>

<VirtualHost *:443>
    ServerName secure.example.com
    
    # APACHE006: SSL enabled
    SSLEngine on
    SSLCertificateFile /etc/ssl/certs/server.crt
    SSLCertificateKeyFile /etc/ssl/private/server.key
    
    # APACHE007: Weak SSL protocols
    SSLProtocol -all +TLSv1.2 +TLSv1.3
    
    # APACHE008: Weak ciphers
    SSLCipherSuite HIGH:!aNULL:!MD5:!3DES:!RC4
    
    # APACHE009: Missing security headers (no Header directives)
    
    # APACHE013: X-Powered-By exposure
    Header unset X-Powered-By
    Header always set X-Frame-Options "SAMEORIGIN"
    Header always set X-Content-Type-Options "nosniff"
    Header always set Referrer-Policy "strict-origin-when-cross-origin"
    Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains"
    SSLHonorCipherOrder on
</VirtualHost>
